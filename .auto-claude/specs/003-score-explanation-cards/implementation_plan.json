{
  "feature": "Score Explanation Cards - Educational Content System",
  "workflow_type": "feature",
  "workflow_rationale": "Net-new feature adding educational UI layer to existing scoring system. Single-service (frontend-only), follows clear dependency order: types \u2192 component \u2192 content \u2192 integration. No backend or infrastructure changes required.",
  "phases": [
    {
      "id": "phase-1-types",
      "name": "Type Definitions & Data Structure",
      "type": "setup",
      "description": "Create TypeScript interfaces for explanation card data structure",
      "depends_on": [],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-1-1",
          "description": "Create explanation types interface",
          "service": "frontend",
          "files_to_modify": [],
          "files_to_create": [
            "app/src/lib/scoring/explanation-types.ts"
          ],
          "patterns_from": [
            "app/src/lib/scoring/types.ts"
          ],
          "verification": {
            "type": "command",
            "command": "cd app && npm run build",
            "expected": "Build succeeds with no TypeScript errors"
          },
          "status": "completed",
          "notes": "Created explanation-types.ts with all required TypeScript interfaces: AlgorithmPrinciple (why/how fields), Example (description/example), ExampleSet (good/bad arrays), ResearchLink (title/url/summary), ScoringFactorExplanation (main interface), FactorId union type (7 factors), and ExplanationsMap type. Follows patterns from types.ts. File is syntactically valid TypeScript with no dependencies. Note: Build has pre-existing tinybase dependency issues unrelated to this change.",
          "updated_at": "2026-01-07T02:39:47.614890+00:00"
        }
      ]
    },
    {
      "id": "phase-2-component",
      "name": "ExplanationCard Component",
      "type": "implementation",
      "description": "Build reusable explanation card UI component using Radix Dialog",
      "depends_on": [
        "phase-1-types"
      ],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-2-1",
          "description": "Create ExplanationCard component with Dialog wrapper",
          "service": "frontend",
          "files_to_modify": [],
          "files_to_create": [
            "app/src/components/scorer/ExplanationCard.tsx"
          ],
          "patterns_from": [
            "app/src/components/ui/dialog.tsx",
            "app/src/components/ui/card.tsx",
            "app/src/components/scorer/ScoreBreakdown.tsx"
          ],
          "verification": {
            "type": "command",
            "command": "cd app && npm run build",
            "expected": "Component builds without errors"
          },
          "status": "completed",
          "notes": "Created ExplanationCard component with Dialog wrapper. Component accepts ScoringFactorExplanation prop and displays all required sections: factorName, algorithm principle (why/how), good/bad examples with color coding, and research links with external link icons. Uses Radix Dialog for modal display with scrollable content (max-h-[85vh]). Responsive grid layout for examples. Follows established patterns from dialog.tsx, card.tsx, and ScoreBreakdown.tsx. Component builds without TypeScript errors (only pre-existing tinybase dependency issues remain).",
          "updated_at": "2026-01-07T02:41:58.511306+00:00"
        }
      ]
    },
    {
      "id": "phase-3-content",
      "name": "Educational Content Creation",
      "type": "implementation",
      "description": "Author educational content for all 7 scoring factors with algorithm insights, examples, and research",
      "depends_on": [
        "phase-1-types"
      ],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-3-1",
          "description": "Create base score explanation content",
          "service": "frontend",
          "files_to_modify": [],
          "files_to_create": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "patterns_from": [
            "app/src/lib/scoring/calculator.ts"
          ],
          "verification": {
            "type": "command",
            "command": "cd app && npm run build",
            "expected": "Content data exports correctly"
          },
          "status": "completed",
          "notes": "Created app/src/lib/scoring/explanations.ts with comprehensive educational content for base score factor. Includes algorithm principles (why 40-point baseline matters, how it provides initial distribution), 2 good examples (realistic expectations, failure protection), 2 bad examples (misunderstandings about guaranteed reach), and 3 credible research links (algorithm testing, cold start problems, visibility thresholds). File exports properly and passes TypeScript validation. Also created placeholder structures for remaining 6 factors to be filled in subsequent subtasks. Pre-existing tinybase dependency issues in project are unrelated to this change.",
          "updated_at": "2026-01-07T02:44:38.128990+00:00"
        },
        {
          "id": "subtask-3-2",
          "description": "Create media score explanation content",
          "service": "frontend",
          "files_to_modify": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/media.ts"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review content for accuracy against media.ts scoring logic"
          },
          "status": "pending",
          "notes": "Explain why visual content (images/videos) performs better than text-only. Include algorithm mechanics for media type scoring. Good examples: engaging video, bad examples: low-quality image."
        },
        {
          "id": "subtask-3-3",
          "description": "Create hook strength explanation content",
          "service": "frontend",
          "files_to_modify": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/hooks.ts"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review content for accuracy against hooks.ts pattern matching"
          },
          "status": "pending",
          "notes": "Explain pattern interrupt, curiosity gap, contrarian, story opener techniques. Good examples: 'Stop scrolling - here's why...', bad examples: 'Just wanted to share...'. Include research on attention economics."
        },
        {
          "id": "subtask-3-4",
          "description": "Create engagement score explanation content",
          "service": "frontend",
          "files_to_modify": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/engagement.ts"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review content for accuracy against engagement.ts scoring logic"
          },
          "status": "pending",
          "notes": "Explain CTAs, questions, emoji usage (1-3 optimal), caps usage, self-promo penalties. Good examples: 'What do you think?', bad examples: 'Buy my course! 50% off!!!'. Include research on engagement triggers."
        },
        {
          "id": "subtask-3-5",
          "description": "Create timing explanation content",
          "service": "frontend",
          "files_to_modify": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/calculator.ts"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review content for accuracy against timing logic in calculator.ts"
          },
          "status": "pending",
          "notes": "Explain weekday bonus (+5), optimal posting hours (8-11am +15, 12-2pm +10), night penalty (-10). Include audience activity patterns research."
        },
        {
          "id": "subtask-3-6",
          "description": "Create account status explanation content",
          "service": "frontend",
          "files_to_modify": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/calculator.ts"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review content for accuracy against account scoring in calculator.ts"
          },
          "status": "pending",
          "notes": "Explain premium (+20) and verified (+10) bonuses. Include why platform algorithms favor premium/verified accounts (trust, credibility signals)."
        },
        {
          "id": "subtask-3-7",
          "description": "Create quality score explanation content",
          "service": "frontend",
          "files_to_modify": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/quality.ts"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review content for accuracy against quality.ts scoring logic"
          },
          "status": "pending",
          "notes": "Explain content quality evaluation criteria. Include readability, structure, value signals. Good examples: clear, concise, valuable. Bad examples: rambling, unclear, low-value."
        }
      ]
    },
    {
      "id": "phase-4-integration",
      "name": "UI Integration",
      "type": "integration",
      "description": "Wire explanation cards into ScoreBreakdown component with info icon triggers",
      "depends_on": [
        "phase-2-component",
        "phase-3-content"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-4-1",
          "description": "Add info icon triggers to ScoreBreakdown",
          "service": "frontend",
          "files_to_modify": [
            "app/src/components/scorer/ScoreBreakdown.tsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/components/ui/dialog.tsx",
            "app/src/components/ui/tooltip.tsx"
          ],
          "verification": {
            "type": "browser",
            "url": "http://localhost:3000",
            "checks": [
              "Info icons appear next to each of 7 scoring factors",
              "Icons are keyboard accessible",
              "No console errors"
            ]
          },
          "status": "pending",
          "notes": "Use lucide-react InfoIcon or HelpCircle icon. Add next to each factor label in the breakdown list. Wrap with DialogTrigger to open ExplanationCard."
        },
        {
          "id": "subtask-4-2",
          "description": "Wire ExplanationCard to explanations data",
          "service": "frontend",
          "files_to_modify": [
            "app/src/components/scorer/ExplanationCard.tsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "app/src/lib/scoring/explanations.ts"
          ],
          "verification": {
            "type": "browser",
            "url": "http://localhost:3000",
            "checks": [
              "Clicking any info icon opens correct explanation card",
              "Card displays factor-specific content",
              "All 7 factors have complete content (principle, examples, research)",
              "Cards are scrollable if content is long",
              "Cards dismiss with X button, ESC key, outside click"
            ]
          },
          "status": "pending",
          "notes": "Import explanations data, lookup by factorId prop, render all sections (algorithm principle, good/bad examples, research links). Ensure mobile responsive."
        }
      ]
    },
    {
      "id": "phase-5-qa",
      "name": "Quality Assurance & Polish",
      "type": "implementation",
      "description": "Final testing, accessibility audit, content review, and bug fixes",
      "depends_on": [
        "phase-4-integration"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-5-1",
          "description": "Accessibility and responsiveness testing",
          "service": "frontend",
          "all_services": false,
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "manual",
            "instructions": "Test keyboard navigation (Tab, Enter, ESC), screen reader (ARIA labels), mobile viewport (iPhone, Android), desktop viewport. Verify no layout breaks, all content readable."
          },
          "status": "pending",
          "notes": "Use browser dev tools for responsive testing. Check ARIA attributes on dialog and triggers."
        },
        {
          "id": "subtask-5-2",
          "description": "Content accuracy and educational value review",
          "service": "frontend",
          "all_services": false,
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "manual",
            "instructions": "Review each of 7 cards: (1) Algorithm explanation matches actual code logic, (2) Examples are clear and realistic, (3) Research links are valid and credible, (4) Content teaches 'why' not just 'what', (5) Tone is educational but conversational."
          },
          "status": "pending",
          "notes": "Cross-reference explanations against scoring logic in calculator.ts, hooks.ts, engagement.ts, media.ts, quality.ts. Verify research links open to credible sources."
        },
        {
          "id": "subtask-5-3",
          "description": "Edge case and regression testing",
          "service": "frontend",
          "all_services": false,
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "e2e",
            "steps": [
              "Open scoring results page",
              "Expand score breakdown",
              "Click info icon for each of 7 factors",
              "Verify correct card opens each time",
              "Test multiple cards can be opened/closed in sequence",
              "Verify existing scoring functionality still works",
              "Check for console errors or warnings"
            ]
          },
          "status": "pending",
          "notes": "Test that existing scoring, suggestions, and other features are not broken by this change."
        }
      ]
    }
  ],
  "summary": {
    "total_phases": 5,
    "total_subtasks": 13,
    "services_involved": [
      "frontend"
    ],
    "parallelism": {
      "max_parallel_phases": 2,
      "parallel_groups": [
        {
          "phases": [
            "phase-2-component",
            "phase-3-content"
          ],
          "reason": "Both depend only on phase-1-types, can work independently on component UI and content authoring"
        }
      ],
      "recommended_workers": 1,
      "speedup_estimate": "Minimal - content creation is the time bottleneck (human authoring required). Parallelism offers ~10% speedup at best."
    },
    "startup_command": "cd app && npm run dev"
  },
  "verification_strategy": {
    "risk_level": "low",
    "skip_validation": false,
    "test_creation_phase": "post_implementation",
    "test_types_required": [
      "unit"
    ],
    "security_scanning_required": false,
    "staging_deployment_required": false,
    "acceptance_criteria": [
      "All 7 explanation cards render without errors",
      "Content is accurate and matches scoring logic",
      "Examples are clear and educational",
      "Research links are valid and credible",
      "UI integration is seamless and accessible",
      "No regressions in existing scoring functionality",
      "Mobile and desktop viewports both work",
      "Keyboard navigation and screen readers work"
    ],
    "verification_steps": [
      {
        "name": "Build Check",
        "command": "cd app && npm run build",
        "expected_outcome": "Build succeeds with no TypeScript or lint errors",
        "type": "test",
        "required": true,
        "blocking": true
      },
      {
        "name": "Browser Verification",
        "command": "cd app && npm run dev",
        "expected_outcome": "All 7 cards display correctly, no console errors, keyboard accessible",
        "type": "manual",
        "required": true,
        "blocking": true
      },
      {
        "name": "Content Accuracy Review",
        "command": "Manual review of explanations.ts against scoring logic files",
        "expected_outcome": "All explanations match actual algorithm implementation",
        "type": "manual",
        "required": true,
        "blocking": true
      }
    ],
    "reasoning": "Low risk UI-only feature. No backend, database, or security concerns. Main validation is content accuracy and UI quality, which requires manual review. Build check ensures TypeScript correctness."
  },
  "qa_acceptance": {
    "unit_tests": {
      "required": false,
      "commands": [],
      "minimum_coverage": null,
      "notes": "No existing test suite detected. Unit tests would be beneficial but not blocking for this feature."
    },
    "integration_tests": {
      "required": false,
      "commands": [],
      "services_to_test": [],
      "notes": "Frontend-only feature with no API integration. Manual browser testing sufficient."
    },
    "e2e_tests": {
      "required": false,
      "commands": [],
      "flows": [],
      "notes": "Manual E2E testing specified in subtask-5-3. Automated E2E not required."
    },
    "browser_verification": {
      "required": true,
      "pages": [
        {
          "url": "http://localhost:3000",
          "checks": [
            "Scoring results page loads",
            "Score breakdown is expandable",
            "Info icons appear next to all 7 factors",
            "Clicking icon opens explanation card",
            "Card displays complete content (principle, examples, research)",
            "Card is mobile responsive",
            "Card is keyboard accessible",
            "No console errors"
          ]
        }
      ]
    },
    "content_verification": {
      "required": true,
      "checks": [
        "7 factors covered: base, media, hook, engagement, timing, account, quality",
        "Each factor has algorithm principle explanation (why + how)",
        "Each factor has minimum 1 good example and 1 bad example",
        "Each factor has at least 1 research link or credible citation",
        "Content is educational and specific (not generic advice)",
        "Research links are valid (no 404s) and credible sources",
        "Tone is conversational but authoritative"
      ]
    }
  },
  "qa_signoff": null,
  "last_updated": "2026-01-07T02:44:38.128999+00:00"
}